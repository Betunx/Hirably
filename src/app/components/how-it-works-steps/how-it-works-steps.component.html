<!-- HOW HIRABLY WORKS - SCROLLING PROCESS MAP -->
<section id="how-it-works" class="py-16 bg-floral-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center mb-10">
        <h1
            class="text-2xl md:text-4xl font-bold text-black-carbon mb-3 py-4 floating-title flex items-center justify-center gap-3 flex-wrap max-w-2xl mx-auto">
            <span>HOW</span>
            <img src="assets/logos/logo 2.svg" alt="Hirably" class="h-8 md:h-12 inline-block px-8">
            <span>WORKS</span>
        </h1>
        <h2 class="text-1xl font-bold text-dark-amethyst mb-4">From Discovery to Payroll</h2>
        <p class="text-base font-700 text-black max-w-3xl mx-auto pb-2">Every step is connected through one seamless,
            transparent
            process managed inside your Hirably platform. Watch your journey unfold.</p>
    </div>

    <div class="process-container max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <!-- Timeline Line - Static -->
        <div class="timeline-line"></div>
        <!-- Timeline Progress - Animated -->
        <div class="timeline-progress" #timelineProgress></div>

        <!-- Content for each step -->
        <div *ngFor="let step of steps; let i = index" class="process-step py-10 md:py-12"
            [attr.data-step]="step.number" [attr.data-color]="step.color" #processStep>

            <!-- Main Content Grid with Zigzag Pattern -->
            <div class="grid grid-cols-1 md:grid-cols-[1fr_auto_1fr] gap-4 md:gap-6 items-center">

                <!-- Left Side: Alternates based on step number (odd/even) -->
                <div class="order-2 md:order-1 flex justify-center"
                    [ngClass]="{'md:order-1': step.number % 2 === 1, 'md:order-3': step.number % 2 === 0}">
                    <div
                        class="node-content transition-all duration-700 ease-out transform translate-y-4 opacity-0 w-full max-w-md">
                        <h3 class="text-2xl md:text-3xl font-bold text-carbon-black text-center">
                            {{ step.category }}
                        </h3>
                    </div>
                </div>

                <!-- Center: Step Number Pill (always in center) -->
                <div class="flex items-center justify-center order-1 md:order-2">
                    <div class="node">
                        <div class="node-icon transition-all duration-500 flex items-center justify-center px-6 py-3"
                            [attr.data-step-icon]="step.number" [style.background-color]="step.color"
                            style="border-radius: 50px;">
                            <span class="text-sm font-bold text-white whitespace-nowrap">
                                Step {{ step.number }}
                            </span>
                        </div>
                    </div>
                </div>

                <!-- Right Side: Alternates based on step number (odd/even) -->
                <div class="order-3 flex justify-center"
                    [ngClass]="{'md:order-3': step.number % 2 === 1, 'md:order-1': step.number % 2 === 0}">
                    <div
                        class="node-content transition-all duration-700 ease-out transform translate-y-4 opacity-0 max-w-lg w-full px-4 py-6">
                        <h2 class="text-base md:text-lg font-bold text-carbon-black mb-2 text-center">
                            {{ step.title }}
                        </h2>
                        <p class="text-sm md:text-base text-carbon-black leading-relaxed text-justify">
                            {{ step.description }}
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Closing Line -->
        <div class="text-center mt-8 mb-6">
            <p class="text-lg md:text-xl font-700 text-carbon-black max-w-4xl mx-auto">
                Your team runs smoother, your hiring gets easier and your back office stays simple with Hirably.
            </p>
        </div>
    </div>
</section>