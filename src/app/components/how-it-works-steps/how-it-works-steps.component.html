<!-- HOW HIRABLY WORKS - SCROLLING PROCESS MAP -->
<section id="how-it-works" class="pt-24 pb-16 bg-floral-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center mb-10">
        <h1 class="text-2xl md:text-4xl font-bold text-carbon-black mb-3 py-4 tracking-wider"
            style="text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);">
            HOW HIRABLY WORKS
        </h1>
        <h2 class="text-1xl font-bold text-dark-amethyst mb-4">From Discovery to Payroll</h2>
        <p class="text-base font-semibold text-black max-w-3xl mx-auto pb-2">Every step is connected through one
            seamless,
            transparent
            process managed inside your Hirably platform. Watch your journey unfold.</p>
    </div>

    <div class="process-container max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <!-- Timeline Line - Static -->
        <div class="timeline-line"></div>
        <!-- Timeline Progress - Animated -->
        <div class="timeline-progress" #timelineProgress></div>

        <!-- Content for each step -->
        <div *ngFor="let step of steps; let i = index" class="process-step py-10 md:py-12"
            [attr.data-step]="step.number" [attr.data-color]="step.color" #processStep>

            <!-- Section Title Above Timeline (centered) -->
            <div class="text-center mb-6 relative z-10">
                <h2 class="text-2xl md:text-3xl font-bold text-carbon-black">
                    <span class="inline-block px-6 py-2 text-floral-white relative"
                          [style.background-color]="step.color"
                          [style.clip-path]="getClipPath(step.number)">
                        {{ step.category }}
                    </span>
                </h2>
            </div>

            <!-- Main Content Grid - Zigzag Layout -->
            <div class="grid grid-cols-1 md:grid-cols-[1fr_auto_1fr] gap-4 md:gap-6 items-center">

                <!-- Left Side: Title (odd steps) or Description (even steps) -->
                <div [ngClass]="step.number % 2 === 1 ? 'order-2 md:order-1' : 'order-3 md:order-1'" class="flex justify-center">
                    <div *ngIf="step.number % 2 === 1"
                        class="node-content transition-all duration-700 ease-out transform translate-y-4 opacity-0 w-full max-w-md">
                        <h3 class="text-xl md:text-2xl font-semibold text-carbon-black text-center">
                            {{ step.title }}
                        </h3>
                    </div>
                    <div *ngIf="step.number % 2 === 0"
                        class="node-content transition-all duration-700 ease-out transform translate-y-4 opacity-0 max-w-lg w-full px-4 py-6">
                        <p class="text-sm md:text-base text-carbon-black leading-relaxed text-justify">
                            {{ step.description }}
                        </p>
                    </div>
                </div>

                <!-- Center: Step Number Pill (ALWAYS in center on desktop) -->
                <div class="flex items-center justify-center order-1 md:order-2">
                    <div class="node">
                        <div class="node-icon transition-all duration-500 flex items-center justify-center px-4 py-2 bg-floral-white border-2"
                            [attr.data-step-icon]="step.number" [style.border-color]="step.color"
                            style="border-radius: 50px;">
                            <span class="text-xs font-semibold text-carbon-black whitespace-nowrap">
                                Step {{ step.number }}
                            </span>
                        </div>
                    </div>
                </div>

                <!-- Right Side: Description (odd steps) or Title (even steps) -->
                <div [ngClass]="step.number % 2 === 1 ? 'order-3 md:order-3' : 'order-2 md:order-3'" class="flex justify-center">
                    <div *ngIf="step.number % 2 === 1"
                        class="node-content transition-all duration-700 ease-out transform translate-y-4 opacity-0 max-w-lg w-full px-4 py-6">
                        <p class="text-sm md:text-base text-carbon-black leading-relaxed text-justify">
                            {{ step.description }}
                        </p>
                    </div>
                    <div *ngIf="step.number % 2 === 0"
                        class="node-content transition-all duration-700 ease-out transform translate-y-4 opacity-0 w-full max-w-md">
                        <h3 class="text-xl md:text-2xl font-semibold text-carbon-black text-center">
                            {{ step.title }}
                        </h3>
                    </div>
                </div>
            </div>
        </div>

        <!-- Closing Line -->
        <div class="text-center mt-8 mb-6">
            <p class="text-lg md:text-xl font-semibold text-carbon-black max-w-4xl mx-auto">
                Your team runs smoother, your hiring gets easier and your back office stays simple with Hirably.
            </p>
        </div>
    </div>
</section>